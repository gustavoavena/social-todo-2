<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title>CPSC113 Todo</title>

	<!-- Google Fonts -->
	<link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700|Lato:400,100,300,700,900' rel='stylesheet' type='text/css'>

	{% load staticfiles %}

	<link rel="stylesheet" href=" {% static '/css/animate.css ' %}">
	<!-- Custom Stylesheet -->

	<link rel="stylesheet" href=" {% static 'tasks/css/style.css' %}">


	<!-- <link href="/static/css/reset.css" rel="stylesheet"> -->
	<link href="/css/dashboard.css" rel="stylesheet">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
</head>
<body>

<div class="container">
		<div class="top">
			<div id="head">
				<a style="color:white" href="/user/logout">Log Out</a>
			</div>
			<h1 id="title" class="hidden"><span id="logo">CPSC113 <span>Todo</span></span></h1>
		</div>

		{% if errors %}
        <div class="row">
          <div class="alert alert-warning validation-error" id="warning">
              <h1>{{errors}}</h1> 
          </div>
         </div>
        {% endif %}
		{% if currentUser %}
      	<div id="welcome">
        	<h2> Welcome, <b>{{currentUser.name}}</b></h2><br>
      	</div>
      	<div class="row">
			<div class="col-md-6">
				<div class="login-box  " id="createTask-box">
					<div class="box-header">
						<h2>Add a new task</h2>
					</div>
					<form id="create" action="/task/create"  method="post">
						<label for="title">Title</label>
						<br/>
						<input name="title" id="title" type="text" placeholder="Title">
						<br/>
						<label for="description">Description</label>
						<br/>
						<input name="description" id="description" type="text" placeholder="Description">
						<br/>
						<input name="collaborator1" id="collaborator1" type="email" placeholder="Collaborator 1"><br>
      					<input name="collaborator2" id="collaborator2" type="email" placeholder="Collaborator 2"><br>
      					<input name="collaborator3" id="collaborator3" type="email" placeholder="Collaborator 3"><br>
						<button type="submit" form="create" value="Submit">Submit</button>
					</form>
				</div>
			</div>
			<div class="col-md-6">
				<div class="login-box   scroll-box" id="tasks-box">
					<div class="box-header">
						<h2>Your tasks</h2>
					</div>
						{% for this in task %}
								{% if this.isComplete %}
							<div class="tasks-list-item complete-task">
						        <a href="/task/complete?id={# this._id #}"><span class="tasks-list-mark toggle-task"></span></a>
						        <span class="tasks-list-desc task-title "><strike>{{this.title}}</strike></span>
						        <p class="tasks-list-desc"><strike>{{this.description}}</strike></p>
						        {% else %}
						        <div class="tasks-list-item ">
						        <a href="/task/complete?id={# this.id #}"><span class="tasks-list-mark toggle-task"></span></a>
						        <span class="tasks-list-desc task-title ">{{this.title}}</span>
						        <p class="tasks-list-desc">{{this.description}}</p>
						        {% endif %}


						        {% if this.mine %}						  
								<a href="/task/remove?id={# this.id #}"><button type="button"class="delete-task button" name="delete">
									Delete
								</button></a>
								{% endif %}
			      			</div>
			      		{% endfor %}
					<br/>
				</div>
			</div>
      	</div>
      	{% else %}
		<div class="row">
			<div class="col-md-6">
				<form action="/user/login" method="post" id="login_form">
					<div class="login-box animated fadeInDown" >
						<div class="box-header">
							<h2>Log In</h2>
						</div>
						<label for="email">Email</label>
						<br/>
						<input name="email"  type="email" class="text-input" placeholder="email">
						<br/>
						<label for="password">Password</label>
						<br/>
						<input name="password" type="password" class="text-input" placeholder="password">
						<br/>
      					<button class="log-in-submit" form="login_form">Log In</button>
						<br/>
						
					</div>
				</form>
			</div>
			<div class="col-md-6">
				<form action="/user/register" method="post" id="register_form">
					<div class="login-box animated fadeInUp">
						<div class="box-header">
							<h2>Sign Up</h2>
						</div>
						<label for="fl_name">First and Last Name</label>
						<br/>
						<input name="fl_name" type="text" class="text-input" placeholder="first &amp; last name">
						<br/>
						<label for="email">Email</label>
						<br/>
						<input name="email" type="email" class="text-input" placeholder="email">
						<br/>
						<label for="password">Password</label>
						<br/>
						<input name="password" type="password" class="text-input" placeholder="password">
						<br/>
						<label for="password_confirmation">Password Confirmation</label>
						<br/>
						<input name="password_confirmation" type="password" class="text-input" placeholder="password confirmation">
						<br/>
        				<button class="sign-up-submit" form="register_form">Sign Up</button>
						<br/>
						
					</div>
				</form>
			</div>
		</div>
		{% endif %}
		<div class="row" style:"min-height:40%">
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
		</div>
	</div>



	

</body>

<script>
	$(document).ready(function () {
    	$('#logo').addClass('animated fadeInDown');
    	$("input:text:visible:first").focus();
	});
	$('#username').focus(function() {
		$('label[for="username"]').addClass('selected');
	});
	$('#username').blur(function() {
		$('label[for="username"]').removeClass('selected');
	});
	$('#password').focus(function() {
		$('label[for="password"]').addClass('selected');
	});
	$('#password').blur(function() {
		$('label[for="password"]').removeClass('selected');
	});
</script>

</html>